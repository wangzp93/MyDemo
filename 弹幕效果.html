<!DOCTYPE html>
<html>
	<head>
		<meta charset="{CHARSET}">
		<title></title>
		<style type="text/css">
			.wrapper{
				width: 100%;
				height: 500px;
				position: relative;
				overflow-x: hidden
			}
			.wrapper span{
				position: absolute;
				white-space: nowrap;
			}
		</style>
	</head>
	<body>
		<div id="main" class="wrapper"></div>
		<input id="content" type="text" />
		<button id="send">发送</button>
		
		<script type="text/javascript">
			var main = document.getElementById("main");
			function make(content) {
				var span = document.createElement("span");
				span.innerText = content;
				span.style.left = main.offsetWidth + span.offsetWidth + "px";
				span.style.top = Math.random() * main.offsetHeight - parseInt(getComputedStyle(document.body).fontSize) + "px";
				main.appendChild(span);
			}
			function move(){
				var spanArr = main.getElementsByTagName("span");
				for(var i=0, len=spanArr.length; i<len; i++){
					var span = spanArr[i];
					span.style.left = span.offsetLeft - 5 +"px";
					if(span.offsetLeft + span.offsetWidth < 0){
						span.remove();
						i--;
						len--;
					}
				}
			}
			setInterval(move, 40);
			document.getElementById("send").onclick = function(){
				var content = document.getElementById("content").value;
				make(content);
			}
		</script>
	</body>
</html>
